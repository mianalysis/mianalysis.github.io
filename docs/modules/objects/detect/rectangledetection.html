<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>ModularImageAnalysis (MIA)</title>
  <link rel="shortcut icon" href="../../../img/logos/logo_square_partclip_192.png" type="image/x-icon" />

  <!-- CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/themes/prism-tomorrow.min.css"
    integrity="sha512-kSwGoyIkfz4+hMo5jkJngSByil9jxJPKbweYec/UgS+S1EgE45qm4Gea7Ks2oxQ7qiYyyZRn66A9df2lMtjIsw=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="../../../css/style.css" rel="stylesheet">

  <!-- Javascript -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/prism.min.js"
    integrity="sha512-UOoJElONeUNzQbbKQbjldDf9MwOHqxNz49NNJJ1d90yp+X9edsHyJoAs6O4K19CZGaIdjI5ohK+O2y5lBTW6uQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-bash.min.js"
    integrity="sha512-35RBtvuCKWANuRid6RXP2gYm4D5RMieVL/xbp6KiMXlIqgNrI7XRUh9HurE8lKHW4aRpC0TZU3ZfqG8qmQ35zA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-powershell.min.js"
    integrity="sha512-dnJS1fxEUNZirzvtoG39P8JWa8DajX420LajzUbn+taV6hd9BfnHHgpPAWNADYjNRPT1Gt4v4/XGMULqi0uqVQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="../../../js/script.js"></script>
</head>

<body>
  <!-- Navigation bar -->
  <nav class="navbar navbar-expand-md navbar-light bg-light sticky-top">
    <div class="container-fluid">
      <div>
        <a class="navbar-brand" href="../../../index.html" style="padding-bottom: 0px;">
          <img height="36" src="../../../img/logos/logo_64.png" style="padding-bottom: 3px; padding-right:0px;">
        </a>
        <a class="navbar-brand mia-name mia-mobile" href="../../../index.html" style="float:right; padding-top: 6px;">
          MIA
        </a>
        <a class="navbar-brand mia-name mia-desktop" href="../../../index.html" style="float:right; padding-top: 6px;">
          ModularImageAnalysis (MIA)
        </a>
      </div>
      <buton class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
        style="border: none;">
        <span class="navbar-toggler-icon"></span>
      </buton>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item ">
            <a class="nav-link" href="../../../index.html">Home</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="../../../guides/index.html">Guides</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="../../../modules/index.html">Modules</a>
          </li>
          <li class="nav-item ${ACTIVE_PUBLICATIONS}">
            <a class="nav-link" href="../../../publications.html">Publications</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="../../../about.html">About</a>
          </li>
          <a class="btn btn-outline-primary ml-2 mia-nav-button" href="../../../guides/gettingstarted.html">Get
            started</a>
      </div>
      </ul>
    </div>
    </div>
  </nav>

  <div class="page-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
    <p class="mia-main-text"><a href="../../../modules/index.html">Modules</a> > <a href="../../../modules/objects/index.html">Objects</a> > <a href="../../../modules/objects/detect/index.html">Detect</a></p>
    <p class="mia-title">Rectangle detection</p>
    <p class="mia-main-text-large">Detects rectangles within grayscale images using the Hough transform.</p>
</div>

<div class="mia-text-block mx-auto mia-page">
    <p class="text-center mia-heading">Description</p>
    <p class="text-center mia-main-text">Detects rectangles within grayscale images using the Hough transform.  Input images can be of binary or grayscale format, but the rectangular features must be brighter than their surrounding background and have dark centres (i.e. not be solid).  For solid rectangles, a gradient filter or equivalent should be applied to the image first.  Detected rectangles are output to the workspace as solid objects.  Rectangles are detected within a user-defined width, length and orientation range and must exceed a user-defined threshold score (based on the intensity of the rectangles feartures in the input image).</p>
</div>

<div class="mia-text-block mx-auto mia-page">
    <p class="text-center mia-heading">Parameters</p>
    <!-- <p class="text-center mia-main-text"><tr><td class="mia-table-text-bold">Input image</td><td>Input image from which objects will be detected.</td></tr><tr><td class="mia-table-text-bold">Output objects</td><td>Output objects to be added to the workspace.  Irrespective of the form of the input features, output objects are always solid.</td></tr><tr><td class="mia-table-text-bold">Output transform image</td><td>When selected, the Hough-transform image will be output to the workspace with the name specified by "Output image".</td></tr><tr><td class="mia-table-text-bold">Output image</td><td>If "Output transform image" is selected, this will be the name assigned to the transform image added to the workspace.  The transform image has XY dimensions equal to the input image, an equal number of channels to the number of widths tested, Z-slices to the number of lengths tested and frames to the number of orientations tests.  Rectangular features in the input image appear as bright points, where the XYCZT location of the point corresponds to the XYWLO (i.e. X, Y, width, length and orientation) parameters for the rectangle.</td></tr><tr><td class="mia-table-text-bold">Downsample factor</td><td>To speed up the detection process, the image can be downsampled.  For example, a downsample factor of 2 will downsize the image in X and Y by a factor of 2 prior to detection of circles.</td></tr><tr><td class="mia-table-text-bold">Normalise scores</td><td>When selected, scores for each parameter combination will be normalised based on the number of samples used to produce them.  Normalisation will prevent reduction of scores towards the image edge; however, it can also lead to some overestimation in these regions.</td></tr><tr><td class="mia-table-text-bold">Detection mode</td><td>Controls which objects will be added to the output collection:<br><ul><li>"All above score" All objects with scores above the threshold specified by "Detection threshold" will be exported.  Objects will be detected starting with that with the highest score.  Following export of each object all potential objects within "Exclusion radius (px)" will be suppressed to prevent the same object being detected multiple times.</li><li>"N highest scores" A specific number (controlled by "Number of objects") of detected objects with the highest scores will be exported.  Following export of each object all potential objects within "Exclusion radius (px)" will be suppressed to prevent the same object being detected multiple times.</li></ul></td></tr><tr><td class="mia-table-text-bold">Detection threshold</td><td>If "Detection mode" is set to "All above score", this is the minimum score a detected circle must have to be stored.  Scores are the sum of all pixel intensities lying on the perimeter of the circle.  As such, higher scores correspond to brighter circles, circles with high circularity (where all points lie on the perimeter of the detected circle) and circles with continuous intensity along their perimeter (no gaps).</td></tr><tr><td class="mia-table-text-bold">Number of objects</td><td>If "Detection mode" is set to "N highest scores", this is the number of objects with the highest scores that will be added to the output object collection.</td></tr><tr><td class="mia-table-text-bold">Exclusion radius (px)</td><td>The minimum distance between adjacent circles.  For multiple candidate points within this range, the circle with the highest score will be retained.  Specified in pixel units.</td></tr><tr><td class="mia-table-text-bold">Enable multithreading</td><td>Process multiple radii simultaneously.  This can provide a speed improvement when working on a computer with a multi-core CPU.</td></tr><tr><td class="mia-table-text-bold">Show transform image</td><td>When selected, the transform image will be displayed (as long as the module is currently set to show its output).</td></tr><tr><td class="mia-table-text-bold">Show detection image</td><td>When selected, the detection image will be displayed (as long as the module is currently set to show its output).</td></tr><tr><td class="mia-table-text-bold">Show detection score</td><td>When selected, the detection image will also show the score associated with each detected object.</td></tr><tr><td class="mia-table-text-bold">Label size</td><td>Font size of the detection score text label.</td></tr><tr><td class="mia-table-text-bold">X range (px)</td><td>Range of X-position values to be tested.  X-position can be specified as a comma-separated list, using a range (e.g. "4-7" specifies values 4,5,6 and 7).  Unlike other parameter ranges, X-position can't be specified as a range extracting every nth slice (e.g. "4-10-2"), instead image downsampling ("Downsample factor" parameter) should be used.  X-position values are specified in pixel units.</td></tr><tr><td class="mia-table-text-bold">Y range (px)</td><td>Range of Y-position values to be tested.  Y-position can be specified as a comma-separated list, using a range (e.g. "4-7" specifies values  4,5,6 and 7).  Unlike other parameter ranges, Y-position can't be specified as a range extracting every nth slice (e.g. "4-10-2"), instead image downsampling ("Downsample factor" parameter) should be used.  Y-position values are specified in pixel units.</td></tr><tr><td class="mia-table-text-bold">Width range (px)</td><td>Range of width values to be tested.  Widths can be specified as a comma-separated list, using a range (e.g. "4-7" specifies values 4,5,6 and 7) or as a range extracting every nth slice (e.g. "4-10-2" specifies values 4,6,8 and 10).  Widths are specified in pixel units.</td></tr><tr><td class="mia-table-text-bold">Length range (px)</td><td>Range of length values to be tested.  Lengths can be specified as a comma-separated list, using a range (e.g. "4-7" specifies values 4,5,6 and 7) or as a range extracting every nth slice (e.g. "4-10-2" specifies values 4,6,8 and 10).  Lengths are specified in pixel units.</td></tr><tr><td class="mia-table-text-bold">Orientation range (degs)</td><td>Range of orientation values to be tested.  Orientations can be specified as a comma-separated list, using a range (e.g. "4-7" specifies values 4,5,6 and 7) or as a range extracting every nth slice (e.g. "4-10-2" specifies values 4,6,8 and 10).  Orientations are specified in degree units.</td></tr></p> -->
    <table class="table table-striped">
        <thead class="mia-main-text-small mia-bold">
            <tr>
                <td>Parameter</td>
                <td>Description</td>
            </tr>
        </thead>
        <tbody class="mia-main-text-small">
            <tr><td class="mia-table-text-bold">Input image</td><td>Input image from which objects will be detected.</td></tr><tr><td class="mia-table-text-bold">Output objects</td><td>Output objects to be added to the workspace.  Irrespective of the form of the input features, output objects are always solid.</td></tr><tr><td class="mia-table-text-bold">Output transform image</td><td>When selected, the Hough-transform image will be output to the workspace with the name specified by "Output image".</td></tr><tr><td class="mia-table-text-bold">Output image</td><td>If "Output transform image" is selected, this will be the name assigned to the transform image added to the workspace.  The transform image has XY dimensions equal to the input image, an equal number of channels to the number of widths tested, Z-slices to the number of lengths tested and frames to the number of orientations tests.  Rectangular features in the input image appear as bright points, where the XYCZT location of the point corresponds to the XYWLO (i.e. X, Y, width, length and orientation) parameters for the rectangle.</td></tr><tr><td class="mia-table-text-bold">Downsample factor</td><td>To speed up the detection process, the image can be downsampled.  For example, a downsample factor of 2 will downsize the image in X and Y by a factor of 2 prior to detection of circles.</td></tr><tr><td class="mia-table-text-bold">Normalise scores</td><td>When selected, scores for each parameter combination will be normalised based on the number of samples used to produce them.  Normalisation will prevent reduction of scores towards the image edge; however, it can also lead to some overestimation in these regions.</td></tr><tr><td class="mia-table-text-bold">Detection mode</td><td>Controls which objects will be added to the output collection:<br><ul><li>"All above score" All objects with scores above the threshold specified by "Detection threshold" will be exported.  Objects will be detected starting with that with the highest score.  Following export of each object all potential objects within "Exclusion radius (px)" will be suppressed to prevent the same object being detected multiple times.</li><li>"N highest scores" A specific number (controlled by "Number of objects") of detected objects with the highest scores will be exported.  Following export of each object all potential objects within "Exclusion radius (px)" will be suppressed to prevent the same object being detected multiple times.</li></ul></td></tr><tr><td class="mia-table-text-bold">Detection threshold</td><td>If "Detection mode" is set to "All above score", this is the minimum score a detected circle must have to be stored.  Scores are the sum of all pixel intensities lying on the perimeter of the circle.  As such, higher scores correspond to brighter circles, circles with high circularity (where all points lie on the perimeter of the detected circle) and circles with continuous intensity along their perimeter (no gaps).</td></tr><tr><td class="mia-table-text-bold">Number of objects</td><td>If "Detection mode" is set to "N highest scores", this is the number of objects with the highest scores that will be added to the output object collection.</td></tr><tr><td class="mia-table-text-bold">Exclusion radius (px)</td><td>The minimum distance between adjacent circles.  For multiple candidate points within this range, the circle with the highest score will be retained.  Specified in pixel units.</td></tr><tr><td class="mia-table-text-bold">Enable multithreading</td><td>Process multiple radii simultaneously.  This can provide a speed improvement when working on a computer with a multi-core CPU.</td></tr><tr><td class="mia-table-text-bold">Show transform image</td><td>When selected, the transform image will be displayed (as long as the module is currently set to show its output).</td></tr><tr><td class="mia-table-text-bold">Show detection image</td><td>When selected, the detection image will be displayed (as long as the module is currently set to show its output).</td></tr><tr><td class="mia-table-text-bold">Show detection score</td><td>When selected, the detection image will also show the score associated with each detected object.</td></tr><tr><td class="mia-table-text-bold">Label size</td><td>Font size of the detection score text label.</td></tr><tr><td class="mia-table-text-bold">X range (px)</td><td>Range of X-position values to be tested.  X-position can be specified as a comma-separated list, using a range (e.g. "4-7" specifies values 4,5,6 and 7).  Unlike other parameter ranges, X-position can't be specified as a range extracting every nth slice (e.g. "4-10-2"), instead image downsampling ("Downsample factor" parameter) should be used.  X-position values are specified in pixel units.</td></tr><tr><td class="mia-table-text-bold">Y range (px)</td><td>Range of Y-position values to be tested.  Y-position can be specified as a comma-separated list, using a range (e.g. "4-7" specifies values  4,5,6 and 7).  Unlike other parameter ranges, Y-position can't be specified as a range extracting every nth slice (e.g. "4-10-2"), instead image downsampling ("Downsample factor" parameter) should be used.  Y-position values are specified in pixel units.</td></tr><tr><td class="mia-table-text-bold">Width range (px)</td><td>Range of width values to be tested.  Widths can be specified as a comma-separated list, using a range (e.g. "4-7" specifies values 4,5,6 and 7) or as a range extracting every nth slice (e.g. "4-10-2" specifies values 4,6,8 and 10).  Widths are specified in pixel units.</td></tr><tr><td class="mia-table-text-bold">Length range (px)</td><td>Range of length values to be tested.  Lengths can be specified as a comma-separated list, using a range (e.g. "4-7" specifies values 4,5,6 and 7) or as a range extracting every nth slice (e.g. "4-10-2" specifies values 4,6,8 and 10).  Lengths are specified in pixel units.</td></tr><tr><td class="mia-table-text-bold">Orientation range (degs)</td><td>Range of orientation values to be tested.  Orientations can be specified as a comma-separated list, using a range (e.g. "4-7" specifies values 4,5,6 and 7) or as a range extracting every nth slice (e.g. "4-10-2" specifies values 4,6,8 and 10).  Orientations are specified in degree units.</td></tr>
        </tbody>
    </table>
</div>

  <!-- Footer -->
  <footer>
    <div class="container-fluid padding mia-page">
      <div class="row text-light">
        <div class="col-3 mia-footer">
          <a href="https://www.bristol.ac.uk/wolfson-bioimaging/">
            <img class="mia-footer-logo" src="../../../img/logos/wbif.png">
          </a>
        </div>
        <div class="col-3 mia-footer text-center">
          <a href="https://twitter.com/_mianalysis/">
            <img class="mia-footer-logo" src="../../../img/logos/twitter_64.png">
        </div>
        <div class="col-3 mia-footer text-center">
          <a href="https://www.youtube.com/@mianalysis">
            <img class="mia-footer-logo" src="../../../img/logos/youtube_64.png">
        </div>
        <div class="col-3 mia-footer d-sm-none text-right">
          <a href="https://github.com/mianalysis/mia/">
            <img class="mia-footer-logo" src="../../../img/logos/GitHub-Mark-Light-64px.png">
          </a>
        </div>
        <div class="col-3 mia-footer d-none d-sm-block text-right">
          <a href="https://github.com/mianalysis/mia/">
            <img class="mia-footer-logo" src="../../../img/logos/GitHub-Mark-Light-64px.png"><img class="mia-footer-logo" src="../../../img/logos/GitHub_Logo_White.png">
          </a>
        </div>
      </div>
    </div>
  </footer>

  <script src="../../../js/script.js" type="text/javascript"></script>

</body>

</html>