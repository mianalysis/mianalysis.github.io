<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>ModularImageAnalysis (MIA)</title>
  <link rel="shortcut icon" href="../../../img/logos/logo_square_partclip_192.png" type="image/x-icon" />

  <!-- CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/themes/prism-tomorrow.min.css"
    integrity="sha512-kSwGoyIkfz4+hMo5jkJngSByil9jxJPKbweYec/UgS+S1EgE45qm4Gea7Ks2oxQ7qiYyyZRn66A9df2lMtjIsw=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="../../../css/style.css" rel="stylesheet">

  <!-- Javascript -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/prism.min.js"
    integrity="sha512-UOoJElONeUNzQbbKQbjldDf9MwOHqxNz49NNJJ1d90yp+X9edsHyJoAs6O4K19CZGaIdjI5ohK+O2y5lBTW6uQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-bash.min.js"
    integrity="sha512-35RBtvuCKWANuRid6RXP2gYm4D5RMieVL/xbp6KiMXlIqgNrI7XRUh9HurE8lKHW4aRpC0TZU3ZfqG8qmQ35zA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-powershell.min.js"
    integrity="sha512-dnJS1fxEUNZirzvtoG39P8JWa8DajX420LajzUbn+taV6hd9BfnHHgpPAWNADYjNRPT1Gt4v4/XGMULqi0uqVQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="../../../js/script.js"></script>
</head>

<body>
  <!-- Navigation bar -->
  <nav class="navbar navbar-expand-md navbar-light bg-light sticky-top">
    <div class="container-fluid">
      <div>
        <a class="navbar-brand" href="../../../index.html" style="padding-bottom: 0px;">
          <img height="36" src="../../../img/logos/logo_64.png" style="padding-bottom: 3px; padding-right:0px;">
        </a>
        <a class="navbar-brand mia-name mia-mobile" href="../../../index.html" style="float:right; padding-top: 6px;">
          MIA
        </a>
        <a class="navbar-brand mia-name mia-desktop" href="../../../index.html" style="float:right; padding-top: 6px;">
          ModularImageAnalysis (MIA)
        </a>
      </div>
      <buton class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
        style="border: none;">
        <span class="navbar-toggler-icon"></span>
      </buton>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item ">
            <a class="nav-link" href="../../../index.html">Home</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="../../../guides/index.html">Guides</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="../../../modules/index.html">Modules</a>
          </li>
          <li class="nav-item ${ACTIVE_PUBLICATIONS}">
            <a class="nav-link" href="../../../publications.html">Publications</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="../../../about.html">About</a>
          </li>
          <a class="btn btn-outline-primary ml-2 mia-nav-button" href="../../../guides/gettingstarted.html">Get
            started</a>
      </div>
      </ul>
    </div>
    </div>
  </nav>

  <div class="page-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
    <p class="mia-main-text"><a href="../../../modules/index.html">Modules</a> > <a href="../../../modules/objects/index.html">Objects</a> > <a href="../../../modules/objects/relate/index.html">Relate</a></p>
    <p class="mia-title">Track objects</p>
    <p class="mia-main-text-large">Track objects between frames.</p>
</div>

<div class="mia-text-block mx-auto mia-page">
    <p class="text-center mia-heading">Description</p>
    <p class="text-center mia-main-text">Track objects between frames.  Tracks are produced as separate "parent" objects to the "child" spots.  Track objects only serve to link different timepoint instances of objects together.  As such, track objects store no coordinate information.<br><br>Uses the <a href="https://imagej.net/plugins/trackmate/">TrackMate</a> implementation of the Jaqaman linear assignment problem solving algorithm (Jaqaman, et al., Nature Methods, 2008).  The implementation utilises sparse matrices for calculating costs in order to minimise memory overhead.<br><br>Note: Leading point determination currently only works in 2D</p>
</div>

<div class="mia-text-block mx-auto mia-page">
    <p class="text-center mia-heading">Parameters</p>
    <!-- <p class="text-center mia-main-text"><tr><td class="mia-table-text-bold">Input objects</td><td>Objects present in individual timepoints which will be tracked across multiple frames.  These objects will become children of their assigned "track" parent.</td></tr><tr><td class="mia-table-text-bold">Output track objects</td><td>Output track objects to be stored in the workspace.  These objects will contain no spatial information, rather they act as (parent) linking  objects for the individual timepoint instances of the tracked object.</td></tr><tr><td class="mia-table-text-bold">Linking method</td><td>The spatial cost for linking objects together:<br><ul><li>"Absolute overlap" Tracks will be assigned in order to maxmimise the spatial overlap between objects in adjacent frames.  This linking method uses the full 3D volume of the objects being tracked.  Note: There is no consideration of distance between objects, so non-overlapping objects next to each other will score equally to non-overlapping objects far away (not taking additional linking weights and restrictions into account).</li><li>"Centroid" Tracks will be assigned in order to minimise the total distance between object centroids.  This linking method doesn't take object size and shape into account (unless included via volume weighting), but will work at all object separations.</li></ul></td></tr><tr><td class="mia-table-text-bold">Minimum overlap</td><td>If "Linking method" is set to "Absolute overlap", this is the minimum absolute spatial overlap (number of coincident pixels/voxels) two objects must have for them to be considered as candidates for linking.</td></tr><tr><td class="mia-table-text-bold">Maximum linking distance (px)</td><td>If "Linking method" is set to "Centroid", this is the minimum spatial separation (pixel units) two objects must have for them to be considered as candidates for linking.</td></tr><tr><td class="mia-table-text-bold">Maximum number of missing frames</td><td>Maximum number of missing frames for an object to still be tracked.  A single object undetected for longer than this would be identified as two separate tracks.</td></tr><tr><td class="mia-table-text-bold">Frame gap weighting</td><td>When non-zero, an additional cost will be included that penalises linking objects with large temporal separations.  The frame gap between candidate objects will be multiplied by this weight.  For example, if calculating spatial costs using centroid spatial separation, a frame gap weight of 1 will equally weight 1 frame of temporal separation to 1 pixel of spatial separation.  The larger the weight, the more this frame gap will contribute towards the total linking cost.</td></tr><tr><td class="mia-table-text-bold">Favour established tracks</td><td>When selected, points will be preferentially linked to tracks containing more previous points.  For example, in cases where an object was detected twice in one timepoint this will favour linking to the original track, rather than establishing the on-going track from the new point.</td></tr><tr><td class="mia-table-text-bold">Track length weighting</td><td>If "Favour established tracks" is selected this is the weight assigned to the existing track duration.  Track duration costs are calculated as 1 minus the ratio of frames in which the track was detected (up to the previous time-point).</td></tr><tr><td class="mia-table-text-bold">Use volume (minimise volume change)</td><td>When enabled, the 3D volume of the objects being linked will contribute towards linking costs.</td></tr><tr><td class="mia-table-text-bold">Volume weighting</td><td>If "Use volume (minimise volume change)" is enabled, this is the weight assigned to the difference in volume of the candidate objects for linking.  The difference in volume between candidate objects is multiplied by this weight.  The larger the weight, the more this difference in volume will contribute towards the total linking cost.</td></tr><tr><td class="mia-table-text-bold">Maximum volume change (px^3)</td><td>If "Use volume (minimise volume change)" is enabled, the maximum difference in volume between candidate objects can be specified.  This maximum volume change is specified in pixel units.</td></tr><tr><td class="mia-table-text-bold">Direction weighting mode</td><td>Controls whether cost terms will be included based on the direction a tracked object is moving in:<br><ul><li>"None" No direction-based cost terms will be included.</li><li>"Absolute orientation 2D" Costs will be calculated based on the absolute orientation a candidate object would be moving in.  For example, if objects are known to be moving in one particular direction, this can favour links moving that way rather than the opposite direction.</li><li>"Relative to previous step" Costs will be calculated based on the previous trajectory of a track.  This can be used to minimise rapid changes in direction if tracked objects are expected to move smoothly.</li></ul></td></tr><tr><td class="mia-table-text-bold">Orientation range mode</td><td></td></tr><tr><td class="mia-table-text-bold">Preferred direction</td><td>If "Direction weighting mode" is set to "Absolute orientation 2D", this is the preferred direction that a track should be moving in.  Orientation is measured in degree units and is positive above the x-axis and negative below it.</td></tr><tr><td class="mia-table-text-bold">Direction tolerance</td><td>If using directional weighting ("Direction weighting mode" not set to "None"), this is the maximum deviation in direction from the preferred direction that a candidate object can have.  For absolute linking, this is relative to the preferred direction and for relative linking, this is relative to the previous frame.</td></tr><tr><td class="mia-table-text-bold">Direction weighting</td><td>If using directional weighting ("Direction weighting mode" not set to "None"), the angular difference (in degrees) between the candidate track direction and the reference direction will be muliplied by this weight.  The larger the weight, the more this angular difference will contribute towards the total linking cost.</td></tr><tr><td class="mia-table-text-bold">Use measurement (minimise change)</td><td>When selected, an additional cost can be included based on a measurement assigned to each object.  This allows for tracking to favour minimising variation in this measurement.</td></tr><tr><td class="mia-table-text-bold">Measurement</td><td>If "Use measurement (minimise change)" is selected, this is the measurement (associated with the input objects) for which variation within a track will be minimised.</td></tr><tr><td class="mia-table-text-bold">Measurement weighting</td><td>If "Use measurement (minimise change)" is selected, the difference in measurement associated with a candidate object and the previous instance in a target track will be multiplied by this value.  The larger the weight, the more this difference in measurement will contribute towards the total linking cost.</td></tr><tr><td class="mia-table-text-bold">Maximum measurement change</td><td>If "Use measurement (minimise change)" is selected, this is the maximum amount the measurement can change between consecutive instances in a track.  Variations greater than this will result in the track being split into two.</td></tr></p> -->
    <table class="table table-striped">
        <thead class="mia-main-text-small mia-bold">
            <tr>
                <td>Parameter</td>
                <td>Description</td>
            </tr>
        </thead>
        <tbody class="mia-main-text-small">
            <tr><td class="mia-table-text-bold">Input objects</td><td>Objects present in individual timepoints which will be tracked across multiple frames.  These objects will become children of their assigned "track" parent.</td></tr><tr><td class="mia-table-text-bold">Output track objects</td><td>Output track objects to be stored in the workspace.  These objects will contain no spatial information, rather they act as (parent) linking  objects for the individual timepoint instances of the tracked object.</td></tr><tr><td class="mia-table-text-bold">Linking method</td><td>The spatial cost for linking objects together:<br><ul><li>"Absolute overlap" Tracks will be assigned in order to maxmimise the spatial overlap between objects in adjacent frames.  This linking method uses the full 3D volume of the objects being tracked.  Note: There is no consideration of distance between objects, so non-overlapping objects next to each other will score equally to non-overlapping objects far away (not taking additional linking weights and restrictions into account).</li><li>"Centroid" Tracks will be assigned in order to minimise the total distance between object centroids.  This linking method doesn't take object size and shape into account (unless included via volume weighting), but will work at all object separations.</li></ul></td></tr><tr><td class="mia-table-text-bold">Minimum overlap</td><td>If "Linking method" is set to "Absolute overlap", this is the minimum absolute spatial overlap (number of coincident pixels/voxels) two objects must have for them to be considered as candidates for linking.</td></tr><tr><td class="mia-table-text-bold">Maximum linking distance (px)</td><td>If "Linking method" is set to "Centroid", this is the minimum spatial separation (pixel units) two objects must have for them to be considered as candidates for linking.</td></tr><tr><td class="mia-table-text-bold">Maximum number of missing frames</td><td>Maximum number of missing frames for an object to still be tracked.  A single object undetected for longer than this would be identified as two separate tracks.</td></tr><tr><td class="mia-table-text-bold">Frame gap weighting</td><td>When non-zero, an additional cost will be included that penalises linking objects with large temporal separations.  The frame gap between candidate objects will be multiplied by this weight.  For example, if calculating spatial costs using centroid spatial separation, a frame gap weight of 1 will equally weight 1 frame of temporal separation to 1 pixel of spatial separation.  The larger the weight, the more this frame gap will contribute towards the total linking cost.</td></tr><tr><td class="mia-table-text-bold">Favour established tracks</td><td>When selected, points will be preferentially linked to tracks containing more previous points.  For example, in cases where an object was detected twice in one timepoint this will favour linking to the original track, rather than establishing the on-going track from the new point.</td></tr><tr><td class="mia-table-text-bold">Track length weighting</td><td>If "Favour established tracks" is selected this is the weight assigned to the existing track duration.  Track duration costs are calculated as 1 minus the ratio of frames in which the track was detected (up to the previous time-point).</td></tr><tr><td class="mia-table-text-bold">Use volume (minimise volume change)</td><td>When enabled, the 3D volume of the objects being linked will contribute towards linking costs.</td></tr><tr><td class="mia-table-text-bold">Volume weighting</td><td>If "Use volume (minimise volume change)" is enabled, this is the weight assigned to the difference in volume of the candidate objects for linking.  The difference in volume between candidate objects is multiplied by this weight.  The larger the weight, the more this difference in volume will contribute towards the total linking cost.</td></tr><tr><td class="mia-table-text-bold">Maximum volume change (px^3)</td><td>If "Use volume (minimise volume change)" is enabled, the maximum difference in volume between candidate objects can be specified.  This maximum volume change is specified in pixel units.</td></tr><tr><td class="mia-table-text-bold">Direction weighting mode</td><td>Controls whether cost terms will be included based on the direction a tracked object is moving in:<br><ul><li>"None" No direction-based cost terms will be included.</li><li>"Absolute orientation 2D" Costs will be calculated based on the absolute orientation a candidate object would be moving in.  For example, if objects are known to be moving in one particular direction, this can favour links moving that way rather than the opposite direction.</li><li>"Relative to previous step" Costs will be calculated based on the previous trajectory of a track.  This can be used to minimise rapid changes in direction if tracked objects are expected to move smoothly.</li></ul></td></tr><tr><td class="mia-table-text-bold">Orientation range mode</td><td></td></tr><tr><td class="mia-table-text-bold">Preferred direction</td><td>If "Direction weighting mode" is set to "Absolute orientation 2D", this is the preferred direction that a track should be moving in.  Orientation is measured in degree units and is positive above the x-axis and negative below it.</td></tr><tr><td class="mia-table-text-bold">Direction tolerance</td><td>If using directional weighting ("Direction weighting mode" not set to "None"), this is the maximum deviation in direction from the preferred direction that a candidate object can have.  For absolute linking, this is relative to the preferred direction and for relative linking, this is relative to the previous frame.</td></tr><tr><td class="mia-table-text-bold">Direction weighting</td><td>If using directional weighting ("Direction weighting mode" not set to "None"), the angular difference (in degrees) between the candidate track direction and the reference direction will be muliplied by this weight.  The larger the weight, the more this angular difference will contribute towards the total linking cost.</td></tr><tr><td class="mia-table-text-bold">Use measurement (minimise change)</td><td>When selected, an additional cost can be included based on a measurement assigned to each object.  This allows for tracking to favour minimising variation in this measurement.</td></tr><tr><td class="mia-table-text-bold">Measurement</td><td>If "Use measurement (minimise change)" is selected, this is the measurement (associated with the input objects) for which variation within a track will be minimised.</td></tr><tr><td class="mia-table-text-bold">Measurement weighting</td><td>If "Use measurement (minimise change)" is selected, the difference in measurement associated with a candidate object and the previous instance in a target track will be multiplied by this value.  The larger the weight, the more this difference in measurement will contribute towards the total linking cost.</td></tr><tr><td class="mia-table-text-bold">Maximum measurement change</td><td>If "Use measurement (minimise change)" is selected, this is the maximum amount the measurement can change between consecutive instances in a track.  Variations greater than this will result in the track being split into two.</td></tr>
        </tbody>
    </table>
</div>

  <!-- Footer -->
  <footer>
    <div class="container-fluid padding mia-page">
      <div class="row text-light">
        <div class="col-3 mia-footer">
          <a href="https://www.bristol.ac.uk/wolfson-bioimaging/">
            <img class="mia-footer-logo" src="../../../img/logos/wbif.png">
          </a>
        </div>
        <div class="col-3 mia-footer text-center">
          <a href="https://twitter.com/_mianalysis/">
            <img class="mia-footer-logo" src="../../../img/logos/twitter_64.png">
        </div>
        <div class="col-3 mia-footer text-center">
          <a href="https://www.youtube.com/@mianalysis">
            <img class="mia-footer-logo" src="../../../img/logos/youtube_64.png">
        </div>
        <div class="col-3 mia-footer d-sm-none text-right">
          <a href="https://github.com/mianalysis/mia/">
            <img class="mia-footer-logo" src="../../../img/logos/GitHub-Mark-Light-64px.png">
          </a>
        </div>
        <div class="col-3 mia-footer d-none d-sm-block text-right">
          <a href="https://github.com/mianalysis/mia/">
            <img class="mia-footer-logo" src="../../../img/logos/GitHub-Mark-Light-64px.png"><img class="mia-footer-logo" src="../../../img/logos/GitHub_Logo_White.png">
          </a>
        </div>
      </div>
    </div>
  </footer>

  <script src="../../../js/script.js" type="text/javascript"></script>

</body>

</html>