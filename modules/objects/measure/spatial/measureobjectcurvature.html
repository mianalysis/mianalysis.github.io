<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>ModularImageAnalysis (MIA)</title>
  <link rel="shortcut icon" href="../../../../img/logos/logo_square_partclip_192.png" type="image/x-icon" />

  <!-- CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/themes/prism-tomorrow.min.css"
    integrity="sha512-kSwGoyIkfz4+hMo5jkJngSByil9jxJPKbweYec/UgS+S1EgE45qm4Gea7Ks2oxQ7qiYyyZRn66A9df2lMtjIsw=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="../../../../css/style.css" rel="stylesheet">

  <!-- Javascript -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/prism.min.js"
    integrity="sha512-UOoJElONeUNzQbbKQbjldDf9MwOHqxNz49NNJJ1d90yp+X9edsHyJoAs6O4K19CZGaIdjI5ohK+O2y5lBTW6uQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-bash.min.js"
    integrity="sha512-35RBtvuCKWANuRid6RXP2gYm4D5RMieVL/xbp6KiMXlIqgNrI7XRUh9HurE8lKHW4aRpC0TZU3ZfqG8qmQ35zA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-powershell.min.js"
    integrity="sha512-dnJS1fxEUNZirzvtoG39P8JWa8DajX420LajzUbn+taV6hd9BfnHHgpPAWNADYjNRPT1Gt4v4/XGMULqi0uqVQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="../../../../js/script.js"></script>
</head>

<body>
  <!-- Navigation bar -->
  <nav class="navbar navbar-expand-md navbar-light bg-light sticky-top">
    <div class="container-fluid">
      <div>
        <a class="navbar-brand" href="../../../../index.html" style="padding-bottom: 0px;">
          <img height="36" src="../../../../img/logos/logo_64.png" style="padding-bottom: 3px; padding-right:0px;">
        </a>
        <a class="navbar-brand mia-name mia-mobile" href="../../../../index.html" style="float:right; padding-top: 6px;">
          MIA
        </a>
        <a class="navbar-brand mia-name mia-desktop" href="../../../../index.html" style="float:right; padding-top: 6px;">
          ModularImageAnalysis (MIA)
        </a>
      </div>
      <buton class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
        style="border: none;">
        <span class="navbar-toggler-icon"></span>
      </buton>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item ">
            <a class="nav-link" href="../../../../index.html">Home</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="../../../../guides/index.html">Guides</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="../../../../modules/index.html">Modules</a>
          </li>
          <li class="nav-item ${ACTIVE_PUBLICATIONS}">
            <a class="nav-link" href="../../../../publications.html">Publications</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="../../../../about.html">About</a>
          </li>
          <a class="btn btn-outline-primary ml-2 mia-nav-button" href="../../../../guides/gettingstarted.html">Get
            started</a>
      </div>
      </ul>
    </div>
    </div>
  </nav>

  <div class="page-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
    <p class="mia-main-text"><a href="../../../../modules/index.html">Modules</a> > <a href="../../../../modules/objects/index.html">Objects</a> > <a href="../../../../modules/objects/measure/index.html">Measure</a> > <a href="../../../../modules/objects/measure/spatial/index.html">Spatial</a></p>
    <p class="mia-title">Measure object curvature</p>
    <p class="mia-main-text-large">Fits a 2D spline to the backbone of objects.</p>
</div>

<div class="mia-text-block mx-auto mia-page">
    <p class="text-center mia-heading">Description</p>
    <p class="text-center mia-main-text">Fits a 2D spline to the backbone of objects.  Each object in the input collection will be reduced to a single (longest skeleton path) backbone, which will be fit with the spline.  Local curvature of the spline can be calculated and any measurements will be assigned to the relevant object (irrespective of whether spline objects are exported).  Curvature values can be calculated as "absolute" (always greater than 0, irrespective of the direction of curvature), or "signed" (sign dependent on direction of curvature, but requires the "start" end of the backbone to be specified).<br><br>Note: Spline fitting will be performed in 2D, so any 3D objects will be projected into a single plane first.</p>
</div>

<div class="mia-text-block mx-auto mia-page">
    <p class="text-center mia-heading">Parameters</p>
    <!-- <p class="text-center mia-main-text"><tr><td class="mia-table-text-bold">Input objects</td><td>Objects to which splines will be fit.  A single spline will be fit to each object in this collection.  Any calculated measurements will be assigned to the relevant object (irrespective of whether spline objects are exported).  Note: Spline fitting will be performed in 2D, so any 3D objects will be projected into a single plane first.</td></tr><tr><td class="mia-table-text-bold">Object output mode</td><td>Controls whether spline objects are exported:<br><ul><li>"Do not store" No spline objects are output by this module.</li><li>"Individual control points" Specific points along the contour are exported.  Each control point is itself a separate object, which is a child of the corresponding input object.  As such, each input object will generally have multiple child control point objects.</li><li>"Full contour" All points along the spline are exported as a single object.  This object is stored as a child of the corresponding input object.</li></ul></td></tr><tr><td class="mia-table-text-bold">Output objects</td><td>The name assigned to the objects if they are being exported.</td></tr><tr><td class="mia-table-text-bold">Export every N points</td><td>If spline objects are being exported (either as full contours or as individual control points), this value controls the interval between points.  As such, increasing values will export fewer and fewer points.</td></tr><tr><td class="mia-table-text-bold">Spline fitting method</td><td>Controls how the spline is fit to the input object:<br><ul><li>"LOESS (smooth fitting)" Performs a local regression (LOESS) interpolation of the line to give a smoothed representation of the object backbone (longest skeleton path).  Uses <a href="https://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/analysis/interpolation/LoessInterpolator.html">Apache Math3 LoessInterpolator</a>.</li><li>"Standard (fits all points)" Fit spline is formed of straight line segments between every other point along the input object backbone (longest skeleton path).  This method doesn't perform any smoothing.  Uses <a href="https://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/analysis/interpolation/SplineInterpolator.html">Apache Math3 SplineInterpolator</a>.</li></ul></td></tr><tr><td class="mia-table-text-bold">Number of neighbours (smoothing)</td><td>Number of neighbouring points used in the calculation of each spline control point.  The greater the number of neighbours, the smoother the output spline.</td></tr><tr><td class="mia-table-text-bold">Iterations</td><td>"This many robustness iterations are done.  A sensible value is usually 0 (just the initial fit without any robustness iterations) to 4".  Description taken from <a href="https://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/analysis/interpolation/LoessInterpolator.html">LoessInterpolator documentation</a></td></tr><tr><td class="mia-table-text-bold">Accuracy</td><td>"If the median residual at a certain robustness iteration is less than this amount, no more iterations are done".  Description taken from <a href="https://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/analysis/interpolation/LoessInterpolator.html">LoessInterpolator documentation</a></td></tr><tr><td class="mia-table-text-bold">Relate to reference point</td><td>When selected, the fit spline will be oriented such that the first point is closer to the reference point (specified by measurements "X-axis reference measurement" and "Y-axis reference measurement") than the final point in the spline.  Having this consistency to the spline orientation allows measurements relative to the first point to be calculated (e.g. relative location of maximum curvature along the spline).  When this is not selected, there's no guarantee of which end of the spline will be "first".</td></tr><tr><td class="mia-table-text-bold">X-axis reference measurement</td><td>If "Relate to reference point" is selected, this is the measurement associated with the input object that will provide the x-axis reference for determining the orientation of the spline.</td></tr><tr><td class="mia-table-text-bold">Y-axis reference measurement</td><td>If "Relate to reference point" is selected, this is the measurement associated with the input object that will provide the y-axis reference for determining the orientation of the spline.</td></tr><tr><td class="mia-table-text-bold">Measure absolute curvature</td><td>When selected (and when "Relate to reference point" is also selected), absolute curvature values will be calculated.  Absolute curvatures are always greater than or equal to 0, irrespective of direction.  Increasing signed curvature values indicate increasing curvatures.</td></tr><tr><td class="mia-table-text-bold">Measure signed curvature</td><td>When selected (and when "Relate to reference point" is also selected), signed curvature values will be calculated.  Signed curvatures are increasingly positive as the spline bends left and increasingly negative as the spline bends right (directions relative to path along spline, starting at first point).</td></tr><tr><td class="mia-table-text-bold">Calculate angle between ends</td><td>When selected, the angle between the two ends of the spline are calculated in degree units.</td></tr><tr><td class="mia-table-text-bold">Fitting range (px)</td><td>If the angle between spline ends is being calculated, this is the number of points at each end of the spline that are fit to get the orientation at that end.</td></tr><tr><td class="mia-table-text-bold">Draw spline</td><td>When selected, the fit spline(s) will be rendered as an overlay on the image specified by "Input image".</td></tr><tr><td class="mia-table-text-bold">Input image</td><td>If drawing the spline(s), this is the image onto which they will be added as overlays.</td></tr><tr><td class="mia-table-text-bold">Apply to image</td><td>If drawing the spline(s), when this is selected, the spline overlays will be added to the image specified by "Input image".  If not selected, the image containing the overlays will be stored separately in the workspace with the name specified by "Output image".</td></tr><tr><td class="mia-table-text-bold">Output image</td><td>If drawing the spline(s) and "Apply to image" is not selected, this is the name with which the overlay images will be stored in the workspace.</td></tr><tr><td class="mia-table-text-bold">Line width</td><td>If drawing the spline(s), this is the width of the spline overlay lines that will be drawn.</td></tr><tr><td class="mia-table-text-bold">Maximum curvature (for colour)</td><td>If drawing the spline(s), the local colour of each spline will represent the local absolute curvature.  This value controls the maximum absolute curvature that will correspond to the top-end of the curvature colourmap.  Values above this will see the colourmap cycling.</td></tr></p> -->
    <table class="table table-striped">
        <thead class="mia-main-text-small mia-bold">
            <tr>
                <td>Parameter</td>
                <td>Description</td>
            </tr>
        </thead>
        <tbody class="mia-main-text-small">
            <tr><td class="mia-table-text-bold">Input objects</td><td>Objects to which splines will be fit.  A single spline will be fit to each object in this collection.  Any calculated measurements will be assigned to the relevant object (irrespective of whether spline objects are exported).  Note: Spline fitting will be performed in 2D, so any 3D objects will be projected into a single plane first.</td></tr><tr><td class="mia-table-text-bold">Object output mode</td><td>Controls whether spline objects are exported:<br><ul><li>"Do not store" No spline objects are output by this module.</li><li>"Individual control points" Specific points along the contour are exported.  Each control point is itself a separate object, which is a child of the corresponding input object.  As such, each input object will generally have multiple child control point objects.</li><li>"Full contour" All points along the spline are exported as a single object.  This object is stored as a child of the corresponding input object.</li></ul></td></tr><tr><td class="mia-table-text-bold">Output objects</td><td>The name assigned to the objects if they are being exported.</td></tr><tr><td class="mia-table-text-bold">Export every N points</td><td>If spline objects are being exported (either as full contours or as individual control points), this value controls the interval between points.  As such, increasing values will export fewer and fewer points.</td></tr><tr><td class="mia-table-text-bold">Spline fitting method</td><td>Controls how the spline is fit to the input object:<br><ul><li>"LOESS (smooth fitting)" Performs a local regression (LOESS) interpolation of the line to give a smoothed representation of the object backbone (longest skeleton path).  Uses <a href="https://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/analysis/interpolation/LoessInterpolator.html">Apache Math3 LoessInterpolator</a>.</li><li>"Standard (fits all points)" Fit spline is formed of straight line segments between every other point along the input object backbone (longest skeleton path).  This method doesn't perform any smoothing.  Uses <a href="https://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/analysis/interpolation/SplineInterpolator.html">Apache Math3 SplineInterpolator</a>.</li></ul></td></tr><tr><td class="mia-table-text-bold">Number of neighbours (smoothing)</td><td>Number of neighbouring points used in the calculation of each spline control point.  The greater the number of neighbours, the smoother the output spline.</td></tr><tr><td class="mia-table-text-bold">Iterations</td><td>"This many robustness iterations are done.  A sensible value is usually 0 (just the initial fit without any robustness iterations) to 4".  Description taken from <a href="https://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/analysis/interpolation/LoessInterpolator.html">LoessInterpolator documentation</a></td></tr><tr><td class="mia-table-text-bold">Accuracy</td><td>"If the median residual at a certain robustness iteration is less than this amount, no more iterations are done".  Description taken from <a href="https://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/analysis/interpolation/LoessInterpolator.html">LoessInterpolator documentation</a></td></tr><tr><td class="mia-table-text-bold">Relate to reference point</td><td>When selected, the fit spline will be oriented such that the first point is closer to the reference point (specified by measurements "X-axis reference measurement" and "Y-axis reference measurement") than the final point in the spline.  Having this consistency to the spline orientation allows measurements relative to the first point to be calculated (e.g. relative location of maximum curvature along the spline).  When this is not selected, there's no guarantee of which end of the spline will be "first".</td></tr><tr><td class="mia-table-text-bold">X-axis reference measurement</td><td>If "Relate to reference point" is selected, this is the measurement associated with the input object that will provide the x-axis reference for determining the orientation of the spline.</td></tr><tr><td class="mia-table-text-bold">Y-axis reference measurement</td><td>If "Relate to reference point" is selected, this is the measurement associated with the input object that will provide the y-axis reference for determining the orientation of the spline.</td></tr><tr><td class="mia-table-text-bold">Measure absolute curvature</td><td>When selected (and when "Relate to reference point" is also selected), absolute curvature values will be calculated.  Absolute curvatures are always greater than or equal to 0, irrespective of direction.  Increasing signed curvature values indicate increasing curvatures.</td></tr><tr><td class="mia-table-text-bold">Measure signed curvature</td><td>When selected (and when "Relate to reference point" is also selected), signed curvature values will be calculated.  Signed curvatures are increasingly positive as the spline bends left and increasingly negative as the spline bends right (directions relative to path along spline, starting at first point).</td></tr><tr><td class="mia-table-text-bold">Calculate angle between ends</td><td>When selected, the angle between the two ends of the spline are calculated in degree units.</td></tr><tr><td class="mia-table-text-bold">Fitting range (px)</td><td>If the angle between spline ends is being calculated, this is the number of points at each end of the spline that are fit to get the orientation at that end.</td></tr><tr><td class="mia-table-text-bold">Draw spline</td><td>When selected, the fit spline(s) will be rendered as an overlay on the image specified by "Input image".</td></tr><tr><td class="mia-table-text-bold">Input image</td><td>If drawing the spline(s), this is the image onto which they will be added as overlays.</td></tr><tr><td class="mia-table-text-bold">Apply to image</td><td>If drawing the spline(s), when this is selected, the spline overlays will be added to the image specified by "Input image".  If not selected, the image containing the overlays will be stored separately in the workspace with the name specified by "Output image".</td></tr><tr><td class="mia-table-text-bold">Output image</td><td>If drawing the spline(s) and "Apply to image" is not selected, this is the name with which the overlay images will be stored in the workspace.</td></tr><tr><td class="mia-table-text-bold">Line width</td><td>If drawing the spline(s), this is the width of the spline overlay lines that will be drawn.</td></tr><tr><td class="mia-table-text-bold">Maximum curvature (for colour)</td><td>If drawing the spline(s), the local colour of each spline will represent the local absolute curvature.  This value controls the maximum absolute curvature that will correspond to the top-end of the curvature colourmap.  Values above this will see the colourmap cycling.</td></tr>
        </tbody>
    </table>
</div>

  <!-- Footer -->
  <footer>
    <div class="container-fluid padding mia-page">
      <div class="row text-light">
        <div class="col-3 mia-footer">
          <a href="https://www.bristol.ac.uk/wolfson-bioimaging/">
            <img class="mia-footer-logo" src="../../../../img/logos/wbif.png">
          </a>
        </div>
        <div class="col-3 mia-footer text-center">
          <a href="https://twitter.com/_mianalysis/">
            <img class="mia-footer-logo" src="../../../../img/logos/twitter_64.png">
        </div>
        <div class="col-3 mia-footer text-center">
          <a href="https://www.youtube.com/@mianalysis">
            <img class="mia-footer-logo" src="../../../../img/logos/youtube_64.png">
        </div>
        <div class="col-3 mia-footer d-sm-none text-right">
          <a href="https://github.com/mianalysis/mia/">
            <img class="mia-footer-logo" src="../../../../img/logos/GitHub-Mark-Light-64px.png">
          </a>
        </div>
        <div class="col-3 mia-footer d-none d-sm-block text-right">
          <a href="https://github.com/mianalysis/mia/">
            <img class="mia-footer-logo" src="../../../../img/logos/GitHub-Mark-Light-64px.png"><img class="mia-footer-logo" src="../../../../img/logos/GitHub_Logo_White.png">
          </a>
        </div>
      </div>
    </div>
  </footer>

  <script src="../../../../js/script.js" type="text/javascript"></script>

</body>

</html>